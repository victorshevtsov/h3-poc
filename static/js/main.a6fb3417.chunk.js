(this["webpackJsonph3-poc"]=this["webpackJsonph3-poc"]||[]).push([[0],{15:function(n,e,t){n.exports={MapInfo:"MapInfo_MapInfo__-5P05"}},20:function(n,e,t){},21:function(n,e,t){},25:function(n,e,t){"use strict";t.r(e);var o,i=t(1),a=t.n(i),l=t(5),r=t.n(l),c=(t(20),t(4)),s=(t(21),t(7)),u=t(14),d=t.n(u),v=t(6),f=t(3),g=function n(e,t,o){Object(f.a)(this,n),this.h3Index=void 0,this.path=void 0,this.color=void 0,this.h3Index=e,this.path=t,this.color=o},j=t(13),b=t(2),h={strokeColor:"navy",strokeWeight:1},O=function(n){var e=n.hexagon,t=n.onMouseMove,o=n.onMouseDown,a=Object(i.useState)(h),l=Object(c.a)(a,2),r=l[0],u=l[1];return Object(i.useEffect)((function(){u((function(n){return Object(j.a)(Object(j.a)({},n),{},{fillColor:null===e||void 0===e?void 0:e.color,fillOpacity:.15,strokeColor:null===e||void 0===e?void 0:e.color,strokeOpacity:.5})}))}),[null===e||void 0===e?void 0:e.color]),Object(b.jsx)(s.b,{path:e.path,options:r,onMouseMove:t,onMouseDown:o},e.h3Index)},p=t(0),x=t(12),m=t(11),C=t(10),w=t(15),M=t.n(w);!function(n){n[n.View=0]="View",n[n.Draw=1]="Draw",n[n.Erase=2]="Erase"}(o||(o={}));var y=function(n){var e=n.count,t=n.resolution,i=n.onModeChange,a=n.onResolutionChange,l=n.onSaveToFile,r=function(n){i&&i({mode:n})};return Object(b.jsx)("div",{className:M.a.MapInfo,children:Object(b.jsxs)(p.b.Provider,{value:{color:"gray",className:"global-class-name",size:"1.25em",style:{verticalAlign:"middle"}},children:[Object(b.jsxs)("button",{onClick:function(){return r(o.View)},children:[Object(b.jsx)(C.b,{})," View"]}),Object(b.jsxs)("button",{onClick:function(){return r(o.Draw)},children:[Object(b.jsx)(m.b,{})," Draw"]}),Object(b.jsxs)("button",{onClick:function(){return r(o.Erase)},children:[Object(b.jsx)(m.a,{})," Erase"]}),Object(b.jsxs)("button",{onClick:function(){return a(--t)},children:[Object(b.jsx)(C.a,{})," Bigger"]}),Object(b.jsxs)("button",{onClick:function(){return a(++t)},children:[Object(b.jsx)(x.a,{})," Smaller"]}),Object(b.jsxs)("div",{children:["Resolution: ",t]}),Object(b.jsxs)("div",{children:["Polygons: ",e]}),Object(b.jsxs)("button",{onClick:function(){return l()},children:[Object(b.jsx)(x.a,{})," Save"]})]})})},I={width:"100%",height:"100%"};function L(n){return v.c(n).map((function(n){return new google.maps.LatLng(n[0],n[1])}))}var S=function(n){var e=n.center,t=n.zoom,l=n.children,r=n.onCenterChanged,u=n.onZoomChanged,f=a.a.useRef(null),j=Object(s.c)({googleMapsApiKey:"AIzaSyDdZZTir2Xmfxy3KYVDEx-fEP9RXuFasog"}),h=j.isLoaded,p=j.loadError,x=Object(i.useState)(),m=Object(c.a)(x,2),C=m[0],w=m[1];Object(i.useEffect)((function(){h&&w({scaleControl:!0,mapTypeControl:!1,streetViewControl:!1,zoomControl:!1,disableDoubleClickZoom:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.BOTTOM_RIGHT},styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]}]})}),[h]);var M=Object(i.useState)([]),S=Object(c.a)(M,2),k=S[0],D=S[1],E=Object(i.useState)(),T=Object(c.a)(E,2),V=T[0],F=T[1],N=Object(i.useState)(o.View),J=Object(c.a)(N,2),P=J[0],Z=J[1],z=Object(i.useState)(7),R=Object(c.a)(z,2),A=R[0],B=R[1],H=function(n){var e,t;if(P!==o.View&&n.latLng){var i,a,l=v.a(null===(e=n.latLng)||void 0===e?void 0:e.lat(),null===(t=n.latLng)||void 0===t?void 0:t.lng(),A);if((null===V||void 0===V?void 0:V.h3Index)!==l&&F(new g(l,L(l),"gray")),1===n.domEvent.buttons)if(P===o.Draw)K(null===(i=n.latLng)||void 0===i?void 0:i.lat(),null===(a=n.latLng)||void 0===a?void 0:a.lng(),!0);else if(P===o.Erase){var r,c;K(null===(r=n.latLng)||void 0===r?void 0:r.lat(),null===(c=n.latLng)||void 0===c?void 0:c.lng(),!1)}}},_=function(n){var e,t,i,a;P!==o.View&&(n.latLng&&1===n.domEvent.buttons&&(P===o.Draw?(F(null),K(null===(e=n.latLng)||void 0===e?void 0:e.lat(),null===(t=n.latLng)||void 0===t?void 0:t.lng(),!0)):K(null===(i=n.latLng)||void 0===i?void 0:i.lat(),null===(a=n.latLng)||void 0===a?void 0:a.lng(),!1)))},K=function(n,e,t){var o=v.a(n,e,A),i=k.findIndex((function(n){return n.h3Index===o}));if(-1===i&&t){var a=L(o),l=new g(o,a,"green");D((function(n){var e=JSON.parse(JSON.stringify(n));return e.push(l),e}))}-1===i||t||D((function(n){var e=JSON.parse(JSON.stringify(n));return e.splice(i,1),e}))};return Object(b.jsx)(b.Fragment,{children:p?Object(b.jsx)("div",{children:"Map cannot be loaded"}):h?Object(b.jsxs)(s.a,{ref:f,center:e,zoom:t,mapContainerStyle:I,options:C,onZoomChanged:function(){if(f.current){var n,e,t=null===(n=f.current)||void 0===n||null===(e=n.state.map)||void 0===e?void 0:e.getZoom();t&&u&&u(t)}},onCenterChanged:function(){var n,t,o=null===(n=f.current)||void 0===n||null===(t=n.state.map)||void 0===t?void 0:t.getCenter();if(o){var i={lat:o.lat(),lng:o.lng()};i.lat!==e.lat&&i.lng!==e.lng&&r&&r(i)}},onMouseMove:H,onDblClick:function(n){var e,t;n.latLng&&K(null===(e=n.latLng)||void 0===e?void 0:e.lat(),null===(t=n.latLng)||void 0===t?void 0:t.lng(),!0)},children:[l,k.map((function(n){return Object(b.jsx)(O,{hexagon:n,onMouseMove:H,onMouseDown:_},n.h3Index)})),V&&Object(b.jsx)(O,{hexagon:V,onMouseMove:H,onMouseDown:_}),Object(b.jsx)(y,{mode:o.View,resolution:A,count:k.length,onModeChange:function(n){var e,t,i,a,l,r;switch(Z(n.mode),n.mode){default:case o.View:null===(e=f.current)||void 0===e||null===(t=e.state.map)||void 0===t||t.setOptions({gestureHandling:"auto"}),F(null);break;case o.Draw:null===(i=f.current)||void 0===i||null===(a=i.state.map)||void 0===a||a.setOptions({gestureHandling:"none"});break;case o.Erase:null===(l=f.current)||void 0===l||null===(r=l.state.map)||void 0===r||r.setOptions({gestureHandling:"none"})}},onResolutionChange:function(n){var e=[];k.forEach((function(t){if(n>A)v.b(t.h3Index,n).forEach((function(n){e.find((function(e){return e.h3Index===n}))||e.push(new g(n,L(n),"green"))}));else{var o=v.d(t.h3Index,n);e.find((function(n){return n.h3Index===o}))||e.push(new g(o,L(o),"green"))}})),B(n),D(e)},onSaveToFile:function(){var n=k.map((function(n){return{h3Index:n.h3Index,path:n.path}})),e=JSON.stringify(n,null,2);d.a.saveAs(new Blob([e]),"hexagons.json")}})]}):Object(b.jsx)("div",{children:"Loading the map..."})})};var k=function(){var n=Object(i.useState)({lat:43.65,lng:-79.38}),e=Object(c.a)(n,2),t=e[0],o=e[1],a=Object(i.useState)(10),l=Object(c.a)(a,2),r=l[0],s=l[1];return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(S,{zoom:r,center:t,onZoomChanged:s,onCenterChanged:o})})},D=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,26)).then((function(e){var t=e.getCLS,o=e.getFID,i=e.getFCP,a=e.getLCP,l=e.getTTFB;t(n),o(n),i(n),a(n),l(n)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root")),D()}},[[25,1,2]]]);
//# sourceMappingURL=main.a6fb3417.chunk.js.map