(this["webpackJsonph3-poc"]=this["webpackJsonph3-poc"]||[]).push([[0],{13:function(n,e,t){n.exports={MapInfo:"MapInfo_MapInfo__-5P05"}},19:function(n,e,t){},20:function(n,e,t){},23:function(n,e,t){"use strict";t.r(e);var o,i=t(1),l=t.n(i),a=t(5),r=t.n(a),c=(t(19),t(4)),s=(t(20),t(7)),u=t(6),d=t(3),v=function n(e,t,o){Object(d.a)(this,n),this.h3Index=void 0,this.path=void 0,this.color=void 0,this.h3Index=e,this.path=t,this.color=o},g=t(12),f=t(2),j={strokeColor:"navy",strokeWeight:1},b=function(n){var e=n.hexagon,t=n.onMouseMove,o=n.onMouseDown,l=Object(i.useState)(j),a=Object(c.a)(l,2),r=a[0],u=a[1];return Object(i.useEffect)((function(){u((function(n){return Object(g.a)(Object(g.a)({},n),{},{fillColor:null===e||void 0===e?void 0:e.color,fillOpacity:.15,strokeColor:null===e||void 0===e?void 0:e.color,strokeOpacity:.5})}))}),[null===e||void 0===e?void 0:e.color]),Object(f.jsx)(s.b,{path:e.path,options:r,onMouseMove:t,onMouseDown:o},e.h3Index)},h=t(0),O=t(14),p=t(11),x=t(10),m=t(13),C=t.n(m);!function(n){n[n.View=0]="View",n[n.Draw=1]="Draw",n[n.Erase=2]="Erase"}(o||(o={}));var w=function(n){var e=n.count,t=n.resolution,i=n.onModeChange,l=n.onResolutionChange,a=function(n){i&&i({mode:n})};return Object(f.jsx)("div",{className:C.a.MapInfo,children:Object(f.jsxs)(h.b.Provider,{value:{color:"gray",className:"global-class-name",size:"1.25em",style:{verticalAlign:"middle"}},children:[Object(f.jsxs)("button",{onClick:function(){return a(o.View)},children:[Object(f.jsx)(x.b,{})," View"]}),Object(f.jsxs)("button",{onClick:function(){return a(o.Draw)},children:[Object(f.jsx)(p.b,{})," Draw"]}),Object(f.jsxs)("button",{onClick:function(){return a(o.Erase)},children:[Object(f.jsx)(p.a,{})," Erase"]}),Object(f.jsxs)("button",{onClick:function(){return l(--t)},children:[Object(f.jsx)(x.a,{})," Bigger"]}),Object(f.jsxs)("button",{onClick:function(){return l(++t)},children:[Object(f.jsx)(O.a,{})," Smaller"]}),Object(f.jsxs)("div",{children:["Resolution: ",t]}),Object(f.jsxs)("div",{children:["Polygons: ",e]})]})})},M={width:"100%",height:"100%"};function y(n){return u.c(n).map((function(n){return new google.maps.LatLng(n[0],n[1])}))}var L=function(n){var e=n.center,t=n.zoom,a=n.children,r=n.onCenterChanged,d=n.onZoomChanged,g=l.a.useRef(null),j=Object(s.c)({googleMapsApiKey:"AIzaSyDdZZTir2Xmfxy3KYVDEx-fEP9RXuFasog"}),h=j.isLoaded,O=j.loadError,p=Object(i.useState)(),x=Object(c.a)(p,2),m=x[0],C=x[1];Object(i.useEffect)((function(){h&&C({scaleControl:!0,mapTypeControl:!1,streetViewControl:!1,zoomControl:!1,disableDoubleClickZoom:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.BOTTOM_RIGHT},styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]}]})}),[h]);var L=Object(i.useState)([]),I=Object(c.a)(L,2),S=I[0],D=I[1],E=Object(i.useState)(),k=Object(c.a)(E,2),V=k[0],T=k[1],N=Object(i.useState)(o.View),P=Object(c.a)(N,2),Z=P[0],z=P[1],F=Object(i.useState)(7),J=Object(c.a)(F,2),R=J[0],A=J[1],B=function(n){var e,t;if(Z!==o.View&&n.latLng){var i,l,a=u.a(null===(e=n.latLng)||void 0===e?void 0:e.lat(),null===(t=n.latLng)||void 0===t?void 0:t.lng(),R);if((null===V||void 0===V?void 0:V.h3Index)!==a&&T(new v(a,y(a),"gray")),1===n.domEvent.buttons)if(Z===o.Draw)_(null===(i=n.latLng)||void 0===i?void 0:i.lat(),null===(l=n.latLng)||void 0===l?void 0:l.lng(),!0);else if(Z===o.Erase){var r,c;_(null===(r=n.latLng)||void 0===r?void 0:r.lat(),null===(c=n.latLng)||void 0===c?void 0:c.lng(),!1)}}},H=function(n){var e,t,i,l;Z!==o.View&&(n.latLng&&1===n.domEvent.buttons&&(Z===o.Draw?(T(null),_(null===(e=n.latLng)||void 0===e?void 0:e.lat(),null===(t=n.latLng)||void 0===t?void 0:t.lng(),!0)):_(null===(i=n.latLng)||void 0===i?void 0:i.lat(),null===(l=n.latLng)||void 0===l?void 0:l.lng(),!1)))},_=function(n,e,t){var o=u.a(n,e,R),i=S.findIndex((function(n){return n.h3Index===o}));if(-1===i&&t){var l=y(o),a=new v(o,l,"green");D((function(n){var e=JSON.parse(JSON.stringify(n));return e.push(a),e}))}-1===i||t||D((function(n){var e=JSON.parse(JSON.stringify(n));return e.splice(i,1),e}))};return Object(f.jsx)(f.Fragment,{children:O?Object(f.jsx)("div",{children:"Map cannot be loaded"}):h?Object(f.jsxs)(s.a,{ref:g,center:e,zoom:t,mapContainerStyle:M,options:m,onZoomChanged:function(){if(g.current){var n,e,t=null===(n=g.current)||void 0===n||null===(e=n.state.map)||void 0===e?void 0:e.getZoom();t&&d&&d(t)}},onCenterChanged:function(){var n,t,o=null===(n=g.current)||void 0===n||null===(t=n.state.map)||void 0===t?void 0:t.getCenter();if(o){var i={lat:o.lat(),lng:o.lng()};i.lat!==e.lat&&i.lng!==e.lng&&r&&r(i)}},onMouseMove:B,onDblClick:function(n){var e,t;n.latLng&&_(null===(e=n.latLng)||void 0===e?void 0:e.lat(),null===(t=n.latLng)||void 0===t?void 0:t.lng(),!0)},children:[a,S.map((function(n){return Object(f.jsx)(b,{hexagon:n,onMouseMove:B,onMouseDown:H},n.h3Index)})),V&&Object(f.jsx)(b,{hexagon:V,onMouseMove:B,onMouseDown:H}),Object(f.jsx)(w,{mode:o.View,resolution:R,count:S.length,onModeChange:function(n){var e,t,i,l,a,r;switch(z(n.mode),n.mode){default:case o.View:null===(e=g.current)||void 0===e||null===(t=e.state.map)||void 0===t||t.setOptions({gestureHandling:"auto"}),T(null);break;case o.Draw:null===(i=g.current)||void 0===i||null===(l=i.state.map)||void 0===l||l.setOptions({gestureHandling:"none"});break;case o.Erase:null===(a=g.current)||void 0===a||null===(r=a.state.map)||void 0===r||r.setOptions({gestureHandling:"none"})}},onResolutionChange:function(n){var e=[];S.forEach((function(t){if(n>R)u.b(t.h3Index,n).forEach((function(n){e.find((function(e){return e.h3Index===n}))||e.push(new v(n,y(n),"green"))}));else{var o=u.d(t.h3Index,n);e.find((function(n){return n.h3Index===o}))||e.push(new v(o,y(o),"green"))}})),A(n),D(e)}})]}):Object(f.jsx)("div",{children:"Loading the map..."})})};var I=function(){var n=Object(i.useState)({lat:43.65,lng:-79.38}),e=Object(c.a)(n,2),t=e[0],o=e[1],l=Object(i.useState)(10),a=Object(c.a)(l,2),r=a[0],s=a[1];return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(L,{zoom:r,center:t,onZoomChanged:s,onCenterChanged:o})})},S=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,24)).then((function(e){var t=e.getCLS,o=e.getFID,i=e.getFCP,l=e.getLCP,a=e.getTTFB;t(n),o(n),i(n),l(n),a(n)}))};r.a.render(Object(f.jsx)(l.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root")),S()}},[[23,1,2]]]);
//# sourceMappingURL=main.f84326c5.chunk.js.map